"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const auth_1 = require("./controllers/auth");
const admin_1 = require("./controllers/admin");
const feedback_1 = require("./controllers/feedback");
const protect_1 = __importDefault(require("./middleware/protect"));
const teacher_1 = require("./controllers/teacher");
const utilities_1 = require("./utils/utilities");
const patient_1 = require("./controllers/patient");
const router = express_1.default.Router();
router.post("/auth/login", auth_1.login);
router.post("/auth/register", protect_1.default("admin"), auth_1.register);
router.get("/feedback", protect_1.default("admin"), feedback_1.getByUserId);
router.get("/admin/data", protect_1.default("admin"), admin_1.getData);
router.get("/admin/user-data/:username", protect_1.default("admin"), admin_1.getUserData);
router.delete("/admin/delete-user/:id", protect_1.default("admin"), admin_1.deleteAccount);
router.post("/admin/patient-data", protect_1.default("admin"), admin_1.postPatientData);
router.post("/history", utilities_1.upload.single("file"), protect_1.default("admin"), admin_1.uploadUserHistory);
router.post("/update-data", protect_1.default("admin"), admin_1.updateUserData);
router.post("/feedback", protect_1.default(), feedback_1.postFeedback);
router.get("/reports", protect_1.default(), patient_1.getReports);
router.post("/upload-report", utilities_1.upload.single("file"), protect_1.default("teacher"), teacher_1.postReport);
router.get("/user-data/:username", protect_1.default("teacher"), teacher_1.getUserDataByUsername);
router.get("/therapist-data/:id", protect_1.default("user"), teacher_1.getUserDataById);
exports.default = router;
